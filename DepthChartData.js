const allData = {
  asks: [
    ['0.02398959', 24],
    ['0.02399079', 6.71344186],
    ['0.02399080', 24],
    ['0.02399300', 89.171],
    ['0.02400063', 1.91102429],
    ['0.02400064', 37],
    ['0.02400325', 93],
    ['0.02400533', 0.269757],
    ['0.02400979', 11.33612228],
    ['0.02400980', 24],
    ['0.02401407', 8.33430864],
    ['0.02401408', 32.3],
    ['0.02402585', 24.10584719],
    ['0.02402940', 5],
    ['0.02402941', 30.5],
    ['0.02404157', 33.9],
    ['0.02405489', 30],
    ['0.02405490', 26],
    ['0.02406971', 38],
    ['0.02407429', 1.68653],
    ['0.02407683', 18.92],
    ['0.02408247', 0.0403],
    ['0.02409090', 0.16],
    ['0.02411571', 63.25],
    ['0.02412028', 0.07174218],
    ['0.02412205', 0.22811663],
    ['0.02412398', 3.27529387],
    ['0.02412822', 0.34643569],
    ['0.02414130', 0.23952246],
    ['0.02416223', 0.25149858],
    ['0.02416384', 0.99925],
    ['0.02417293', 0.499545],
    ['0.02418181', 0.16],
    ['0.02418516', 0.26407351],
    ['0.02418556', 0.0403],
    ['0.02419836', 0.9992255],
    ['0.02420670', 0.07396866],
    ['0.02421050', 0.27727719],
    ['0.02421548', 633.19],
    ['0.02422012', 0.99925],
    ['0.02423883', 0.29114105],
    ['0.02424983', 40.59184165],
    ['0.02424984', 0.99925],
    ['0.02427095', 0.3056981],
    ['0.02427272', 0.16],
    ['0.02428244', 0.04719304],
    ['0.02428287', 0.24400411],
    ['0.02428865', 0.0403],
    ['0.02430000', 0.02461855],
    ['0.02430802', 0.320983],
  ],
  bids: [
    ['0.02397900', 24],
    ['0.02397781', 8.33591118],
    ['0.02397780', 6.25253838],
    ['0.02397779', 3],
    ['0.02396783', 8.33634915],
    ['0.02396782', 33.84309032],
    ['0.02396588', 35.46718609],
    ['0.02396042', 93],
    ['0.02394283', 1.07391565],
    ['0.02394282', 16.2],
    ['0.02394138', 1.0324998],
    ['0.02394137', 0.24573823],
    ['0.02393825', 0.05],
    ['0.02393791', 0.66571141],
    ['0.02393542', 0.05],
    ['0.02393084', 0.26183256],
    ['0.02392893', 30],
    ['0.02392155', 30],
    ['0.02392154', 0.10844911],
    ['0.02391399', 0.01300201],
    ['0.02391392', 34],
    ['0.02390940', 0.0083],
    ['0.02390909', 0.16],
    ['0.02390696', 18.92],
    ['0.02390367', 0.167162],
    ['0.02390150', 27.5],
    ['0.02390100', 0.00565667],
    ['0.02390092', 0.47027478],
    ['0.02390000', 0.25559875],
    ['0.02389860', 1.321155],
    ['0.02389007', 0.05],
    ['0.02388829', 28],
    ['0.02388609', 0.05],
    ['0.02388441', 0.17500956],
    ['0.02388399', 0.878266],
    ['0.02388394', 75.69986526],
    ['0.02388343', 0.00576102],
    ['0.02387956', 0.05],
    ['0.02387628', 0.0403],
    ['0.02387480', 26.3],
    ['0.02387158', 0.04548086],
    ['0.02386996', 63.25],
    ['0.02386793', 0.05],
    ['0.02386206', 0.043005],
    ['0.02386090', 0.14637437],
    ['0.02384143', 0.50332551],
    ['0.02383752', 1.35107233],
    ['0.02383751', 18.02591531],
    ['0.02383745', 0.176007],
    ['0.02383031', 0.13767097],
  ],
  isFrozen: '0',
  seq: 878927112,
};

const rawAsks = [
  [0.1524, 0.948665],
  [0.1539, 35.510715],
  [0.154, 39.883437],
  [0.1541, 40.499661],
  [0.1545, 43.262994000000006],
  [0.1547, 60.14799400000001],
  [0.1553, 60.30799400000001],
  [0.1558, 60.55018100000001],
  [0.1564, 68.381696],
  [0.1567, 69.46518400000001],
  [0.1569, 69.621464],
  [0.157, 70.398015],
  [0.1574, 70.400197],
  [0.1575, 73.199217],
  [0.158, 77.700017],
  [0.1583, 79.449017],
  [0.1588, 79.584064],
  [0.159, 80.584064],
  [0.16, 81.58156],
  [0.1608, 83.38156],
];

const rawBids = [
  [0.1435, 242.521842],
  [0.1436, 206.49862099999999],
  [0.1437, 205.823735],
  [0.1438, 197.33275],
  [0.1439, 153.677454],
  [0.144, 146.007722],
  [0.1442, 82.55212900000001],
  [0.1443, 59.152814000000006],
  [0.1444, 57.942260000000005],
  [0.1445, 57.483850000000004],
  [0.1446, 52.39210800000001],
  [0.1447, 51.867208000000005],
  [0.1448, 44.104697],
  [0.1449, 40.131217],
  [0.145, 31.878217],
  [0.1451, 22.794916999999998],
  [0.1453, 12.345828999999998],
  [0.1454, 10.035642],
  [0.148, 9.326642],
  [0.1522, 3.76317],
  [0.1522, 3.76317],
];

function processData(data, side) {
  return data
    .map((item) => {
      return {
        price: item[0],
        amount: item[1],
      };
    })
    .reduce((arr, item, idx) => {
      const bid = {
        price: item.price,
        amount: item.amount,
        side,
        total: !arr.lenght ? item.amount : arr[idx - 1].total + item.amount,
      };

      return [...arr, bid];
    }, []);
}

const asks = processData(rawAsks, 'ask');
const bids = processData(rawBids, 'bid');

export {asks, bids};
